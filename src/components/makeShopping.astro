---
import Section from "./Section.astro";
import Tab from "./Tab.astro";

const tabs = [
    'Tops',
    'Roompers',
    'hats',
    'all collection',
]
const tabsImg = [
    '/img/makeShop.png',
    '/img/makeShop_2.png',
    '/img/makeShop_3.png',
    '/img/makeShop_4.png',
    '/img/makeShop_5.png',
]
---
<Section>
    <div class="makeShopping">
        <h4 class="uppercase">letâ€™s make shopping</h4>
        <h2 class="title">What are you looking for?</h2>
        <Tab items={tabs} open={1}>
            {
                tabsImg.map((img, index) => (
                    <div class="makeShopping__imgWrap tab__content" data-tab={index + 1}>
                        <img src={img} alt="" class="makeShopping__img"/>
                        <div class="makeShopping__prlx scene">
                            <img data-depth="0.6" src="/img/makeShop_prlx.svg" alt=""/>
                        </div>
                    </div>
                ))
            }
        </Tab>
    </div>
</Section>

<style is:global lang="scss">
    .makeShopping{
        display: flex;
        flex-direction: column;
        align-items: center;
        .title{
            margin-bottom: 40px;
        }
        .uppercase{
            margin-bottom: 16px;
        }
        &__img{
            object-fit: cover;
            width: 100%;
            height: 540px;
            &Wrap{
                position: relative;
                margin-bottom: 31px;
            }
        }
        &__prlx{
            position: absolute;
            right: 15px;
            top: -33px;
        }
        .tab{
            display: flex;
            flex-direction: column-reverse;
            &__list{
                gap: 60px;
            }
            &__item{
                &--active{
                    position: relative;
                    &::after{
                        content: '';
                        position: absolute;
                        left: -45%;
                        top: -20%;
                        width: 190%;
                        height: 38px;
                        background-image: url('/img/icon/tab.svg');
                        background-repeat: no-repeat;
                        background-size: contain;
                    }
                }
            }
        }
    }
</style>