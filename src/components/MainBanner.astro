---
import Section from "@components/Section.astro";
import Button from "@components/Button.astro";
---

<section class="mainBanner" id="mainB">
    <div class="mainBanner__wrapper">
        <div class="mainBanner__background">
            <img src="/img/mainBanner.png" alt="">
        </div>
        <Section>
            <div class="mainBanner__info">
                <h4 class="uppercase">Treehouse:</h4>
                <h1>Little Clothes.</h1>
                <h1>Big Impact.</h1>
                <p>
                    High-quality children's clothing, crafted with care from sustainable materials 
                    that are kind to the planet. These timeless styles are the perfect companions for 
                    your little adventurer, wherever their imagination takes them.
                </p>
                <div class="mainBanner__buttons">
                    <Button href="#">SHOP NOW</Button>
                    <Button href="#" icon="arrow" variant="round"></Button>
                </div>
            </div>
            <div class="mainBanner__bottom">
                <p>* Buy good, do good</p>
                <a href="#footer" class="icon-arrow scrollDown">
                    Scroll
                </a>
            </div>
        </Section>
    </div>
</section>
<style is:global lang="scss">
    .mainBanner{
        position: relative;
        min-height: fluid(570px, 700px);
        padding-top: 80px;
        margin-bottom: fluid(60px, 120px);
        &__background{;
            img, &::after{
                position: absolute;
                left: 0;
                top: 0;
                width: 100%;
                height: 100%;
                z-index: 0;
            }
            img{
                object-fit: cover;
            }
            &::after{
                content: '';
                background-color: rgba(0, 0, 0, .25);
                z-index: 1;
            }
        }
        &__info{
            margin-right: fluid(0px, 205px);
            margin-top: 72px;
            margin-left: auto;
            color: $white;
            h4{
                margin-bottom: 16px;
            }
            h1{
                font-family: "Didot";
                font-size: fluid(32px, 64px);
                line-height: 1;
                &:last-of-type{
                    margin-left: -98px;
                    margin-bottom: 20px;
                }
            }
            p{
                max-width: 320px;
                margin-bottom: 48px;
                line-height: 1.4;
            }
        }
        &__bottom{
            display: flex;
            align-items: center;
            justify-content: space-between;
            color: $white;
            margin-top: fluid(40px, 102px);
            a{
                display: flex;
                align-items: center;
                flex-direction: row-reverse;
                font-size: 14px;
                &::before{
                    rotate: 90deg;
                    font-size: 20px;
                }
            }
        }
        &__buttons{
            display: flex;
            align-items: center;
        }
        .section{
            position: relative;
            z-index: 2;
            &__container{
                display: flex;
                flex-direction: column;
                height: 100%;
            }
        }
    }
    @media (max-width: 490px) {
        .mainBanner{
            &__info{
                h1{
                    &:last-of-type{
                        margin-left: 75px; 
                    }
                }
            }
        }
    }
</style>

<script>
    let scrollDown = document.querySelector('scrollDown');

    scrollDown?.addEventListener('click', (e) => {
        e.preventDefault();
        
        let href = scrollDown.getAttribute('href')?.substring(1);
        if(href){
            const scrollTarget = document.getElementById(href);
            let scrollTo = document.querySelector('.scrollto');

            if(scrollTo && scrollTo instanceof HTMLElement){
                const topOffset = scrollTo.offsetHeight;
                const elementPosition = scrollTarget?.getBoundingClientRect().top;

                if(elementPosition && topOffset){
                    const offsetPosition = elementPosition - topOffset;
                    window.scrollBy({
                        top: offsetPosition,
                        behavior: 'smooth'
                    });
                }
            }
        }
    })
</script>